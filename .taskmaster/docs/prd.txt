# Vector Note - 벡터 기반 지능형 노트 관리 시스템

## Overview
Vector Note는 AI 기반 벡터 검색 기술을 활용한 지능형 노트 관리 시스템입니다. 사용자가 생성한 노트, 문서, 웹 콘텐츠를 벡터 임베딩으로 변환하여 의미 기반 검색과 AI 어시스턴트 기능을 제공합니다. 

**해결하는 문제:**
- 대량의 텍스트 정보에서 관련 내용을 빠르게 찾기 어려움
- 전통적인 키워드 검색의 한계 (동의어, 맥락 고려 부족)
- 분산된 정보 소스 (문서, 웹사이트, 개인 노트)의 통합 관리 필요
- 정보 검색과 질답이 분리된 환경

**대상 사용자:**
- 연구자, 학생, 지식 근로자
- 대량의 문서와 정보를 다루는 전문가
- 효율적인 정보 관리 및 검색을 원하는 일반 사용자

## Core Features

### 1. 지능형 노트 관리
- **벡터 임베딩 기반 저장**: 모든 노트가 한국어 특화 임베딩 모델(KURE-v1)을 통해 벡터로 변환되어 저장
- **의미 기반 검색**: 키워드뿐만 아니라 문맥과 의미를 이해하는 검색 기능
- **카테고리 관리**: 노트를 주제별로 분류하고 필터링
- **실시간 CRUD**: 노트 생성, 수정, 삭제 기능

### 2. 다양한 콘텐츠 소스 지원
- **파일 업로드**: PDF, DOCX 문서 자동 텍스트 추출 및 처리
- **웹 콘텐츠**: URL 기반 웹페이지 내용 자동 추출
- **텍스트 직접 입력**: 사용자 직접 작성 노트
- **자동 텍스트 분할**: 긴 문서의 효율적인 처리를 위한 청크 단위 분할

### 3. AI 대화형 어시스턴트
- **컨텍스트 기반 질답**: 저장된 노트 내용을 기반으로 한 지능형 답변
- **채팅 세션 관리**: 다중 대화 세션 지원
- **실시간 스트리밍**: 실시간 응답 생성 및 표시
- **대화 기록 보존**: 과거 대화 내용 조회 및 연속성 유지

### 4. 사용자 관리 및 보안
- **JWT 기반 인증**: 안전한 사용자 인증 시스템
- **개인화된 데이터**: 사용자별 독립적인 노트 및 채팅 관리
- **권한 기반 접근**: 사용자 권한에 따른 기능 제한

## User Experience

### 사용자 페르소나
**1차 사용자 (연구자/학생)**
- 다양한 논문, 자료를 체계적으로 관리하고 싶은 사용자
- 연구 주제 관련 질문을 AI에게 물어보고 관련 자료를 찾고 싶은 사용자

**2차 사용자 (지식 근로자)**
- 업무 관련 문서들을 효율적으로 관리하고 검색하고 싶은 사용자
- 프로젝트별로 정보를 분류하고 필요시 빠르게 찾고 싶은 사용자

### 주요 사용자 플로우
1. **회원가입/로그인** → **노트 업로드/생성** → **벡터 임베딩 처리** → **검색/탐색**
2. **AI 채팅 시작** → **질문 입력** → **관련 노트 컨텍스트 검색** → **AI 답변 제공**
3. **카테고리 생성** → **노트 분류** → **필터링을 통한 관리**

### UI/UX 고려사항
- **직관적인 인터페이스**: Material-UI 기반 모던하고 사용하기 쉬운 디자인
- **반응형 디자인**: 다양한 디바이스에서 최적화된 경험
- **실시간 피드백**: 로딩 상태, 진행률 표시
- **검색 자동완성**: 빠른 검색을 위한 UX 개선

## Technical Architecture

### 백엔드 시스템
- **프레임워크**: FastAPI (Python) - 고성능 비동기 웹 프레임워크
- **데이터베이스**: 
  - PostgreSQL (관계형 데이터: 사용자, 노트 메타데이터, 채팅 기록)
  - Qdrant (벡터 데이터베이스: 임베딩 벡터 저장 및 검색)
- **AI 모델**: 
  - Sentence Transformers (KURE-v1) - 한국어 특화 임베딩
  - Google Gemini 1.5 Flash - 대화형 AI 응답 생성
- **인증**: JWT 토큰 기반 사용자 인증
- **API 설계**: RESTful API 구조

### 프론트엔드 시스템
- **프레임워크**: React 18 (TypeScript)
- **UI 라이브러리**: Material-UI (MUI)
- **상태 관리**: React Context API
- **HTTP 클라이언트**: Fetch API 기반 통신

### 데이터 모델
```sql
-- 사용자 테이블
users (id, email, password_hash, created_at)

-- 노트 테이블  
notes (id, title, content, category, source_type, source_path, user_id, created_at, updated_at)

-- 채팅 세션 테이블
chat_sessions (id, title, user_id, created_at)

-- 채팅 메시지 테이블
chat_messages (id, session_id, role, content, created_at)
```

### 외부 API 연동
- **Google Gemini API**: AI 응답 생성
- **벡터 데이터베이스**: 임베딩 저장 및 유사도 검색

## Development Roadmap

### Phase 1: 기본 기능 구현 (MVP)
**목표**: 사용자가 노트를 생성하고 AI와 대화할 수 있는 기본 기능 완성
- 사용자 인증 시스템 구축
- 노트 CRUD 기능 구현
- 기본 벡터 임베딩 및 검색 기능
- 단순한 AI 채팅 기능
- 기본 웹 UI 구현

### Phase 2: 고급 검색 및 문서 처리
**목표**: 다양한 문서 형식 지원과 향상된 검색 기능
- PDF, DOCX 파일 업로드 및 처리
- 웹 URL 콘텐츠 자동 추출
- 카테고리별 노트 관리
- 고급 검색 필터링
- 검색 결과 랭킹 개선

### Phase 3: AI 기능 강화
**목표**: 더 정교한 AI 어시스턴트 기능
- 멀티턴 대화 컨텍스트 유지
- 채팅 세션 관리
- 실시간 스트리밍 응답
- 관련 노트 자동 추천
- 답변 품질 개선

### Phase 4: 사용자 경험 최적화
**목표**: 프로덕션 레벨의 사용자 경험
- 반응형 디자인 완성
- 성능 최적화
- 에러 처리 및 사용자 피드백
- 접근성 개선
- 모바일 최적화

## Logical Dependency Chain

### 1단계: 인프라 구축 (Foundation)
- 데이터베이스 스키마 설계 및 구축
- 사용자 인증 시스템 구현
- 기본 API 구조 설정
- 프론트엔드 프로젝트 구조 설정

### 2단계: 핵심 노트 기능 (Core Features)
- 노트 CRUD API 구현
- 벡터 임베딩 서비스 구축
- 기본 검색 기능 구현
- 노트 관리 UI 구현

### 3단계: AI 채팅 기능 (AI Integration)
- Gemini API 연동
- 채팅 세션 관리
- 컨텍스트 기반 응답 생성
- 채팅 UI 구현

### 4단계: 고급 기능 (Advanced Features)
- 문서 파일 처리
- 웹 콘텐츠 추출
- 카테고리 관리
- 고급 검색 필터

### 5단계: 최적화 및 완성 (Optimization)
- 성능 최적화
- UI/UX 개선
- 에러 처리 강화
- 테스트 코드 작성

## Risks and Mitigations

### 기술적 위험
**위험**: 벡터 데이터베이스 성능 이슈
**완화**: Milvus와 Qdrant 중 성능 테스트 후 선택, 인덱싱 최적화

**위험**: AI API 비용 및 응답 속도
**완화**: 응답 캐싱, 토큰 사용량 최적화, 스트리밍 응답 구현

**위험**: 한국어 임베딩 모델 정확도
**완화**: 여러 한국어 모델 비교 테스트, 하이브리드 검색 구현

### 제품 위험
**위험**: 사용자 데이터 프라이버시 우려
**완화**: 로컬 임베딩 처리, 데이터 암호화, 투명한 데이터 정책

**위험**: 확장성 문제
**완화**: 마이크로서비스 아키텍처 고려, 데이터베이스 샤딩 준비

### 리소스 위험
**위험**: 개발 일정 지연
**완화**: MVP 우선 개발, 기능 우선순위 명확화, 단계별 배포

## Appendix

### 기술 사양
- **Python**: 3.8+
- **Node.js**: 18+
- **데이터베이스**: PostgreSQL 13+, Milvus 2.3+
- **AI 모델**: KURE-v1 (한국어 임베딩), Gemini 1.5 Flash

### 성능 요구사항
- 노트 검색 응답 시간: 2초 이내
- AI 채팅 응답 시작: 1초 이내
- 동시 사용자: 100명 이상 지원
- 파일 업로드: 10MB 이하 지원

### 보안 요구사항
- HTTPS 통신 필수
- JWT 토큰 기반 인증
- 사용자별 데이터 격리
- API 요청 제한 (Rate Limiting)

### 향후 확장 계획
- 팀 협업 기능
- 노트 공유 및 권한 관리
- 다국어 지원 확장
- 모바일 앱 개발
- 플러그인 시스템 구축 